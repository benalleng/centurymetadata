# Examples of using Century Metadata

## Creating an Encoded Record

You need two keys: one for the reader, and one for the writer.  Let's
use all-1 bytes for the writer's secret, all-2 bytes for the reader
secret.

Let's encode two records, one titled `text`, contents `text one`, the
second also titled `text` and contents `text two`.

Here's how we'd do this with the example tool:

```
$ ./examples/centurytool.py --writer-secret=0101010101010101010101010101010101010101010101010101010101010101 --reader-secret=0202020202020202020202020202020202020202020202020202020202020202 --encode text 'text one' --encode text 'text two'
Converted reader secret to reader pubkey 4d4b6cd1361032ca9bd2aeb9d900aa4d45d9ead80ac9423374c451a7254d0766
Writer pubkey: 1b84c5567b126440995d3ed5aaba0565d71e1834604819ff9c17f5e9d5dd078f
63656e747572796d65746164617461207630005349475b36345d7c5752495445525b33325d7c5245414445525b33325d7c47454e5b385d7c4145535b383035365d0a0a5349473a204249502d33343020534841323536285441477c5441477c5752495445527c5245414445527c47454e7c414553290a5752495445522c205245414445523a20736563703235366b3120782d6f6e6c79206b6579730a5441473a20534841323536282263656e747572796d65746164617461225b31355d290a4145534b45593a205348413235362830783032207c204469666669652d48656c6c6d616e206f66205752495445522c524541444552290a4145533a20435452206d6f646520287374617274696e6720302c206e6f6e6365203029207573696e67204145534b4559206f6620444154410a444154413a20677a6970285b5449544c455c30434f4e54454e54535c305d2b292c207061646465642077697468203020627974657320746f2038303536000ad638e8e6b289098cd483d864c9d4235c8c2296daee6cfbe09ecffd8e157511d16f688b5053521b54cb4fa7efbdf558449461a2ef39ab83ca1a83c9d17abcf93b1b84c5567b126440995d3ed5aaba0565d71e1834604819ff9c17f5e9d5dd078f4d4b6cd1361032ca9bd2aeb9d900aa4d45d9ead80ac9423374c451a7254d076600000000000000003eacc1140be36976b94c5b44ad93de62b77573f1138c2a5a867a005a2c53d805f3ff6c9d492895a83e5f1110ce9919e0304099f7b0e8016af04532f3cf38e3e048634b0a1fedf3636bb29d551aab78bd0a0577d8f2d150f2e630e55a01b2f45d8bb2ec715a7dd46b461e216e8d8fee7e0e3f88e611799acd1a9884f0c59f01b1915cb79027bad6f13f196edd216248b32079702f515e36ecb9dd1bac89f66d1c29e5576b53e514e1dbda63d779b24321a9d91cf2bd71931b34d136e9c5b40c6883d29fa471cc73783dba17490b5331655d7ddda31b615c96757d4418e84bf1563e9f61e805639606af58cb0eb72ae6fe762edb62850bf48cc369134eaf3815ae1da6317c66fa44ed7829133d7b073d2dad1367d84c2358c98a43d849288ce507c530c7fb7fc8de1dd312a13424d3f98259d27edc7c532ee2082a7843de308bfa196a22c1f899fc7255b8c030f1903d61596b2fff7d7231d1ff52cdc136166186674ad702da7894431451298eff4ff5e94acf1d2e16b74a48b94cf4dcf6ae5e71cf546686e88bb09d5d453be07191f7143628e7b34e688d6c13db8acd29f79022691dd6837b9eed8d5bac99f114d34bae449197377ffb08f23b5b6eabf62777106d8b2fe372454bbebf97ff2191c347f1377ad61204cdea4f48f52780df3a579bfcddccbe41416f7befdf195f63c70690fc069ffe0b37f7b8e07af3e5098e6521ee89d6c33673f0a8a7bf99a50179dff4a67ef181f4dc345d00348b73b8821f787ab4f333d51c45497149b039f66d434728e969fe90a99b54920859e13f76707823f2fc1ad059b4e286224658e70f422b9da9e6a3889df6da8766234f4a6ace8697f535e11f0794ca5f83d71ec8948953e1adcc8c6ebc6c4c2af7acd4da49a8f1c939dbb85c3fd76fb88a9b28b4cff1866009f5de3e48a25782629082069a69a77c88cf28bf1b9a0dcb05be740861b930f6aa2c664fcdc425facef1309c85be60b6714574bbb7d580143f4ed4f436be977bd872bcacacaf5a99dba471ca9703a96fbdff84b41bbfee27d339b726cd3781c1d8db3b739e8839379845851baad58ff0e5c426335d4bbf7ec7a8040cbb32fe122406d8e6c47a344d7973b8c427eb4b83a2c8f67ba4b5ce39b4ca7cecddc0922e66e7966d2226389581baed977fde611e3773ec85699b92657bc4913220ba4451b5af440d63d42079b01d2614c5df46a4ef42354cb0ad38c61f921dc70c73d6c22e1f7c8d81ddd837636b7fc26e9a7c5d14e18ee961476336fc10941cb8f00753b389dcf3e28f9f2ecfef7f2d9b269193a07f81ed4a0bcf499db831a27a23f575e3e69429d5b4d4349b0dea3f35b0c7ef39d83ec16af50647384435ccb35fc6a6c972401f12d22d382e22372ca0c9a4ad0efa2e8e5895519dbafa362861be682ea80dffd6471b221a5e812336ff49c88608b63cfda70a268f77094fff32dbae863d986a79720b506153d241fe082e082067b0f6fee0820e12f8d9f5ca5addd36033eca686f553b5b6f59f16924332b2930241e2fa81543101548534abe3447cd7dc8d700421096f6d8c755cb83fac310f22fe67f6d0b122cf20495cc11eaca881fdd2476d1fe6764fb55e35e8cee554cd59562d77d672f926cad43b05530c313040600e1ff0ee8bb6d7c2bc7573269b58a11948289ec8cfbc4dd682b3268ddbf370f32f561593e5c0a14b90437b3acc9ab6358af8e8b0fa7d6af877e9c2c1d231321b5356d611bda93d4f43a0bd771e8c3ab92c50569c9539ff4005e08e24c665b21039c93e93e98a60931c51088534b4678ad7cbe2e7fd6e07c784bd2e91e8e7f2cf89ffab74bdf8dd046842c91e5af273437e114cb501d70d4eccac5764d0cef9a2c1120cbeddbe45cc0c0e266a8043dea5aff47d212e3a2eaef21b584d5beb96a8d9488f67c3c03fb1cfdad308f8b8d6787bc64c7737494abc63a286c2e8d2113a3b33b7c78282e381d5c89452b82bbfefd8a8eba0df0419db092c441835f9758c99efdaf3eeb55779712f9ed5c0d3edc05ba3968e1bdacb6c189b0e6daf61a2fdf8366d2238337b4a86d670e1a49b54705c3bbce702d316f0bf1ba984feefc22370bfe8e79aeb7c11616ede655ebb6ed9b2f8c2a3e16128999f2cc20fe6c498bf180284b613508f4015e05f5a5529a18bed29aba83cbd602e3ff8b38ebc11cb80ffa03113efe304c02baf6b88226e1dd1fbfef42c891855cd1cd26f00f495e8185de1cba7397f31fefff2255de4b7c6568468c0f789a45060862d67daf997e6193d666d234ef31f1daad0deb0a60bf9d0cd8878c5e168acc90262c32f9adf3572213da57980f24d2eefd6201991533a59e9a91ed440b96d8293c299db10f0122cb9ca73266f457792162918ae4cdec4ea4a8b081c34eddcc02b23633edc5d460be6c04fcdc6b3173d158c4cc58426156bf9d794913b29a97c2431a24ba23bbe9eb3463ccc365fb38cd4bd0cf963a523bd0877785d4b76959f5c626cad33ff35d4c16d8cfa470b376c105a80baf1fba02191aba29180c1a936b95d568964a6e3066a5c14fdef8106b680820fa758737d8a1dc8294ebdd2f392555ff87b4132d08df11328c514b4d2dd37a458a76806d512a95374b1d3893e3ef089c760524aaaac45d68714bed43012bbd0855e1b2c611b1b808e8245a9585d0b141e63aa983b88ede119d25cc8716c9e7a4e2a69c67a48481ac00b3c7455d6835a226850a1f16902cb74c0772e6059946c42e499770356b863ff7cceb3f214ef450684be0f154582f621fd84d170dd698fe981643f0c8292d9127ccb515851f163ef0293e3c4edf7c0ce1924a41d7cb4861f1c57d5813cda5b5615710194bf5d706571f30b5d322fe9b0186af4f17bb5c46f70d22e6400bdbcce17a47a32abe4411fd1840a7719d378bca335ff03315fc9d5f4d3524cb2e34e50f36733aa675a9bb65e74c7c8f4127912c800499b9357348598127b854a6c0aadaa2fe94d2b9918d94e4fcd72c0a03a430d272a7473515618773e00411db85510c02b1abf5a43b510d5d62b237182134c1a477aea03318294b4b4c0957b2862d205114c7593c19558c586190e74b60641d64df48c217ff1c4856062252e71e391ed73dba3ffbf91a1c8e6ba018550f635eaa4778d95fa25db89bb7391f10e4638be0b4bdac10d0020777a687b8eadf7c58d139c0d6038261810926976369da939a8d1b2f57f591c04a9203b5dcb4bf57b951d563bce10f83c4d4de09e1bd0d5005b8691738dfd0b178064787885c3fa562b50bab6cecae409456e88f50fdabae440ba9b2d0324edc382b1ea109431d2c5ad07095ffce09ca0db4e900afb9832fba5efacfe850c8faea857d4a8d27422795ca37b522358db4d7358d76b4dc54f154ee679f642a95e708b3a9666000082c44fce574d2144786f0bd121c41791964cd82d93cbf6ea8f89ba8d2512f9c5d04ddfda39230a222ac297208ed9cefb56605a5de31ea3f336ca43f0925574a40300d21d1173df097459aabae97de4be40ec69142dc104ec644b5bd807ff4159c9db25d7498be45e87cee166a79f14be08eb4bc0096256205976da2911ad917cc06cca3f9caab7ebe2dc85dbc1c089affb1ef603c6911bb701371f9db696bf0aa2a48f788ea430be60ee540a0eaf28b86ec0bac97fb5e0bc4c73bd402f741b7d1a4605e91ec80e7e5d0522847b0b5e0e76ceed65f692df4f4d2cc7ec91dc166548ed1ec8a61d20fb7e54efd7eb3ef9d88872946a60d5156be2e63cab74d7a514f176a601f4a1463ff199f3d4325b26bf32695a29768a410a5c4c0b90c812fe68de49803edf3dfd01362122f1a6a36402bee2b4df0dc723f3b3c8eb728ac65d4c9af7ecf5e8a494dfc0cb81d594839046a2109e038e181fb319391b8177eb0991829cf8741c22e7efd1a588e2f6f2a39b35d9cc1cf7e3c10357203549d84f3dc32ab0a95a4ddd3220bb3e99027637f75e96663bc39eaed3d16427107ad34da56e761bc727ff749b661136663d4d71977bdcdd7dc93695ba796030f30a000cea615fb593c485304eba03cef5c1c54d8cae19b7cc56d180af53159eb530b944fa889a7c18e33e77973941698575b1df7db11ac2c930456bd429c3b41de1675093285308d8f4aebd79611b1819619402b935374572bec8a26c81289504f1f8c1141287cf580a124bb1dbf4c83f4de340b6647b19aa4d79b593fd03180d3c185ffaf08871fe903a5b21e743c06327955a3188cbbcd7e462f1fdcf28c7b14dee398cadfef20aabd8e604310ecde642397c5e043df18e4674928eef1a7f3fb1350c5651dcb2871291e753b93496111098ee3c824ec1d9256d56b5a278e83fc7057d3b7bdb4379ed6e1fdb49fa743350d3e749053013d6a901c52a4c367a6c3d501fb5d6bead47261098dae4569c30cfaa817adf71319d61c7c8f98bfeefe14a58e7c467f4fde46f3b5d6d31fb5af8e40a6dc1bd2b016e4e3ccc61091e29fe21aa76431cbdd71d14bb625d07974dce65ce955f685ede94d58a7ef2d35a307512868ad8354ee6f777bdb0aed37de9ccd5896baa0ba141c7f79654e48868b7a4b183cf48bbc4835d5d147d552dc8c85a66484829868a20da01511ed1532f6b6e896eb2e8ee5d5a15168e75d98dba41d738e1f9400e456d447af15573667fa226fbbe9b3bc0f6b2dbb690228b3280605fa2a4fd1b42cae438dd981187ab7e3ffb552f6cbf7c126a594ec2b65551a806ef864ca86373f03c520f9c6857cb010e1843bccecdadb122dc5b7db8ef59f24e16947e6e871f7af6e0a8fbe6f45ed3d855c2e91020e09aa10ead58767c4b98f70c713f303697c8b860fb578465bd24887072f4b8ca1fcdd3ceea4b2bc17274a0ecad500dcbe4e4c91dd199755b78367c3d1f14a392c6701cf5147c745c1a95b2af5ba02c579f158b0b462c516e1c38e6aa9284ab13a259310b459dfa7ebfc8d9b7a0f372aa1897ee3fd0128a73793969fbf644c43d37236f316579548f243e25e27c22e4e53d46b6f74f18f81068897ec449048c2c347c4536c9ed1918410bec3e80ffdca539dbf7bfb6d05b1e4e006e2b7f9633f8df65c69ff4eca0f5cfd3fc680ccbc73428eefaf826d875d3f04506a56df4d141024ea656dc7c076a8ee99365ebc3d1f0839eeb4a584c594140d36e5735c161226c2c0055eabf4bf15f9857f3901a7ebdefdc1f049146dd25436223027acd1f833a47e03abb47b1203cabca1e01ca05629853f052bd77eb9f5cffd34a43767f5f98cd6dcc3ee275b0127b3c554dce0c3162c3945e04825ccdfb5d6876d1c254a1806fc523cb7b1de373a8dcb1dc3ed628baa1beb7c1c2537511aa35bda3c22d2d9215c6dd22a6e2ad4b54ff6257766f235941f70823c2e5664f5a57193cb63258555ca2817487fa4be6edb572acce7ba1fbf932aee8303f80c923d070ac40f57d085601661f9388acaa74bf439c4c9a3e7fe58635ba06a5a6c36a85448aafafa4ee61c9feae6c9d836753e6a23f9b1c68257b710d0dbcedc3a4eb72c1e718cdd088266cc6a0e24f00715ed9b78bef41e90891551af98d3b394498021669b486cbeac5b6abaffaf78d0e4f7d614d600c190caf61829716d353f9f129bde5d34cc3c7565af3d2ef8ceaec6031fefe3027ac32c0cba3226ac0fe53531a83c43f6d62b586646a324621da0c5ea1c74d74a63a57b236326aa18aacbe5b98c652722dba9c967f44e67967c4fba9ffee45e8318d6420c7b645303ffd887f35bb98cbe2cdd3936a9bfcd9a912e6c1e38e0de0b69f3e8febfd76fad7b97c85d03c8504d36c0ea08c8bc90220ce891bc9bd963b87b0ba54888c8aca0a7361a1089fe0cd27029d14a6a97a4c5bcf044fecffe0e0462df78ef24187d27996177bf25a0dd5bfb5a4784e8f39269bea9aff436e7c7978eee7e778513b196866550b8b338cee7a4443ce35f2f5b5eadf739d43957485620559c9f61818d466d849b277a18d666f991f245822921751b7f35dc5519230e476bcf2acb228a53dfc55241feedc5d99421883753098212a8fbde58ba635df4e552e60fcc988a49a0c7ec60fe171ecacc9dc6acb93138cee4fd4e9e8a9e37a26a9982bf3113cf81acd34178712407ddf5824c04571f8482c02ffa40b6a790429450baf3fc108c8f3d5746686949d9d9577685ed877e52f42159e203735effed0917e594bd4f2c29f30aa984be9baf832727b5fe43db46b8cd5f8c4fb264fde2c5a102941a61ad93deafc769d4db058bedec3ec9e1fb58dfbae646c9935f2b27857112a3fd456a849e3a44b05ffe0b65a859e24999a093180e43fc53dd8f14065f77d58d93c6ed1c010f92f1a3ba94147a30df074ecfe4e0faabf8309483029cae3e942d8f9e0caf7721cc36d78fe586c4c4017598f3cb1ca6842be55c288e68cd8571713b4ef7f6c33bae1b9c8980e03bbd35ebd5de341438797faa7ccd139b70af5394dd62d0fdd77a951fe14783fcf8460f0b390e51b35a9480664b97029667441d2e40f3ffdd09501bbaf9972d368cd01a8ded8ce2fb98ac14d2c658c18b399621b0f8ddc3985c4b18a1dadd45b627c69b10cee3f6b0888e1638b4395386eaa617cb21240e2cbe519f92fb91871a222dd18e45a969eef982cd1ea7e5bb75b278b45e4ae94d0d615ec90245b426f2c87b0b31aea2fced69c5af2bfa2cd6947c20637850bcf7baca8e99da50f8a28cdad205f4f24fa545cebb90a426d0523b7d3ae110d0ca496235adea2907897d36d65d2d27650cb83034740fd19a43bf13180c3bece95d4dc82579032fea53b02b09c75f671f4c6bf45cd984173a921ca09ff16c0b7bae9574a10670b8c1d0fc6b97c3a2ec171929f9598cc9bf301183acadd1cef9867391803af6524b4a887a5f89aaefe299a2947b03949ca316326e355930aae2ea78ef947279a339712e22e82ac09d33def3f6219fdb1f5104fe014501c0cf865440445c012dd29c38558a2ea08161405fa02fd2167cd9840cf7db13222dcf0dfeba368b2c82dfa684d17a90bf0e8c3cecdc00f11c39819b7ee9ef1e75b2b213d43f9af279d5e2cab7707cf76463d7d7910d3efddacf8c4ddc110c430f28cf4eff120adf4a33268cacb8a0aefa8caaee3b383d7d1a7b9a245e99c9ac23ef86c661b58dee973259b40a393b5c7710d1a03bcff9dc60f3aac4e5ca42d291230e1669b7ed6a97b678f80713715d101df5a0859f439fdfc9477027b360f35966299981e2122976b96e01fd4cbc05e3d74af351ffad4462f83a2a99cb42914d0da35dd6cc2868d4285c097d2c0b8289412d4c918d415b54d74269fb22abefb689495c38a46aed050f228c616c51f5d8f2bbbe70c18d47aa1fbcd096449968fbf9db7ef687bf1d874881b991df83bdf161b1ef9e0a724255f6b97ffa45a220e916ebf65e096fad0cdf80a5109aab4cb29c09548eb3fedbf9ffc7be6cd66fdea57bafb63b092d46983d23703d532d0eb541558d0e686aa8b4fbdb250618d6e7e835b2a25481e95ab1f2fe211fbd7d816af5214a438ab13f84dc87821a50460a36c730bef005322137208f475dcac1ca7e466e213414ee6d63d9aa9b530a17ccfa6806e7e9ec231f0f83b29e0428ac1e97a751be4c870a2fdb9345d0986b48c10a03212a9d8f444d87bcc5fc5658ca9cbb1f677f1799bebcda452048a48017c5ed13f6482871f3ab6f4a0936647c928b4c487b64ec11c1cad5d3522d1d3e90c48af3abc2331a2bf5836dbfb968266569c2b98738c0a1cd537abb969f82cec5fbcc38ca0f22cd3b6f9557a054efe8f65edf1da9943ac63cadb4ae5cfcade8d019f048667fcab79e990c33db205b68d5ec1dc7e150cc46285d6ff9c8eefc9d45f6c7236fdaa65749252b4a06e50331ee003f367e837812e0dbe2a959669b942768d888be8a631bd46df4da59677e9563746479e1d4e12c61a1ec519c758dad53b3913e2966802ee119ae695b9792169e67f5df69e97334faffd0cdab4927e65dbfa16c1e3e4a852c77dcf8121cd0a2dec29e12febcee492ca74bb7585c7a47325a3f8ffc86df7518b5e1abde15580ca4dece1018bca682c9ef3718ff92182912b9bb16a0be8750683fd57bfd956161bc21c5503653d32cbe4831fa6281b266158757610941087828659d2697dc1663defaa4c4cf492c19f4038b776358242922ac464d00a25cb3affd4873b5483156c7997831ba16f0348791f4032c3e2ab5342c8cc093c59e22be9d3124313b618151137d270972d510755531b40424d2270a970e49c5d6df321ebfe0bcb4a579b2620d9422565caec5bd34562260caa66a0318882f7d01f7651ec7c9160afcc456561f58ed76366234e56315781ec3244495028bb856c116414f1bb035993de552cfaf24cdd2478801e28345019ed8ef623e7d77afd80c95cb790b58b3b688444e0d5b88784af01fc826261ef118ee63d46b8715b0a7acc4b66c885d8ad7a2a4b4d46eea07064740ec4ac80d23f4f0c83c1a4a0b7a98c040c6a1dda0ca38ca2aac550d45dc1a6c545b94080b79a748cda92c41e79327dec17369c7651dbdbf519e75841565d9123226096194217157a57c78f1e02f6e12efb2335eea20234e48aa8952e502a3c68d67dbb99bdfdb5e1d142f5f7e8595c50a219ac639842b5989cd2f30b03ad1a5cc725cdfbe34192f80f9f447330a2b8cb076069b86b567207e3026691893fb635112ba46f6238aa4913c01a288be5bf365db3b8817db344a7c10218f5b5ee8bc5bfa02b33e750647d209e1c1ca3846d3c60e4c99bd7851856a7a575a361000d1e5a8e49b2247b760ec0cebd3aea55e01a13fbd472cced7c597c090288af484240773c7205206d06290ca4dd39add8b34ac485a5b0f578668f5b68a97986d7a659daa9417a3eb64c63c98ec0943f72076636ba5f352d5164b78831708117d4c90a2d9646f1fbec104aaa28cfb0255f1403cb1575ac03b6e932859850e1ee5763b6213dacfbcb6ccd2b686a7ba215919745bb3d903b7ae2cc30bc1166b4c45b276a8590b5cbb8f353bbc8a10905e55a97a01765efb7e103a219246dd73c98ef6cff9bb4f2c40aed11c60a06d39c4eda63fabbd2ad6d9c80aa7eaf05fde27eab0e21867c774cca8e503571aebc6b5ab1dc265a6decb0650f59525e6954140657f2f342ddf992fc850127fb46c8df34655b2468793c5b8f6858f709d7f005407d243f7312de2128fcb6565e0e236147b4b0f4101fe469b596bbd8da6b0522e273dd9a7cc701114522e015d5803aa17b13a9f1ac6585e7f681aae4faba534a23ebba945042efa5cf766708c714505d740133882a6b45b53c19602b9bd617bf1153d6be881315f053e127dfc69e037ff4dcaf3e67e034e5f61c395bf71c0d5a4a4c08e5d6f079919010e99d0254aafa65f077a63455081f058e8c144ba0f0b907db7496f94679066acb4e03bd6a0019f9efd2ab14ebde5d576a5daa6b68897b774452dd20de70692bf6bd981a09596663665cb7833d3ec837b9eed09221b72717ee8f0aa49f9a74c9e932401dd04b57796663afd1025f5a35b33a593a14150ccc7f208d396e2f55967640aec0f47d26a45bffe71665a547aef33b5db898536c826109f2afbb68852ac5571708f596a693970f9ff483d835773769630fa9723e4eaa59a1b38be6781c49b56df54f40feae8803c44ef893adbfd8e70199e51fb0175e3b898d95d88e62e3536730bf2ce8522f34409a8f58cc89f69f0a8149a216f4faa1f0b89492958ac501e3405b5b5a6f724f1df17a13189f90b0281d4f83b78becc4366db0ffd83e29646223352268e76b62fb5487434dd00c821bcdef2957c26730131b2c624378a92aff2cb5493341b83e611cfb535ca2b5cff08e5f705e3d3e7cbcea175328bc6de98f7198dc35e62d6cebdb16febd694095a43e5932f2132ae958f9a0968577bbeeee8de1363e6c731f5f37cb70e97344dad8868df4bb478efef14f29d1a91478a776bb6301a8f9d47ab74cc76f9b7a0d10c43c090a6ef44518152810f8f2bf9f617b458777d6860f7535cf690f9ae2d095e997da3902a195afe269118ee7d0c5329a2480ca7e0e91bc2a9f728f8b3c0137e4cd2a31ca35f0d12d5e4c44d1d802380788e8da919f6ee97b8be4abf6708327276625198ec0ab0ced0c014d0d690b3a7a17b6ef03bd2b35e2a275309cb3841691b6b3165f460882a5c065aee19899088894270e2318a3bf4053d68373f89b6ce68eb67a13f611f20de265222b496db751f8fd090903a86cf1d669f126963c46e70989edb06ab0fda82416b0531d93354f73267c435802e86c82dc5dd1c44b166aed381f1ba8823e77aa004f86a0a5d0c7dddef7b28e6dba0b4972e11b377df69dce421ec516344e344949ba2ce0274033f0c05cad41167939648ce25b075beba8fd2769b2682b9d6751bfaad69f197fc1b622189ffd92c6ba6d03dace5abe34e91c46b64b09e252ee74f212df4e53a829f2772f9035c34e20f0da685e4929500913863a881ebb5f5ff4db4b7f2b265d85b2135855aa88ef56f08ced50304a19cabc738c6e203aabf736a72a2aaebbdc8a546c17f3f13c9e74ab3ef5daadd8d489f2134189e053bb12075586c89ec76ccdfd52d3593f390fa5c268fdc077b620b07f4b0aa7aae00eff2a7aab469b788ad5d28df9e063295849e491a780c277d0341e1914f8de395b27b0bf1b4cb98c09f3a6b5c5a2fcfc71fb6ed68a99e0fc39040e1249bf9d341058db0b000387bc10d7555696b52eec62c9cff35b0c45553126ee12292517a509fe83a7b806f34f0fa4680fdddf94eabbd726da315c3ce4d2041505eb3931c6b034346fbc5944dc8188171d8a72a696c9e0eedb958015b752f72e2fb4db4fbf107626f8ef7de328673661e12597fd2e925e6d95245e0e2376b87be92cb047359617f42807bd2364805bcd1af12e7b3d59562e3b5cb764f98db4df6cb43a4b9a500e5010030e355c58e9a5291773459146ba594d5d6b731005f3598b0dddc09c976c74fe758eb6debf3f64ef4c8546d9e5e587a228e8a5576ea0d7cd67e74650aa29a7ab222480fc9872259649261fec0c374f45988e83755d2a4ef76edbe8c4a809618499ef87a3c6815597f375300859fda77565a9e5e6fc3a5315934098482ef78d0c0664341389b3f36a73a90fc796ee8299a05e67ecec034492d9aae475c4d4a3b945379ac7ab85d66114e34ac5c3ab581e7a229798bc0d538327d683b9c5bf87320d7ab7b9557949a948db719e1506d66cb2bff01fd76acc19c6efb17a87979ab85cb369f71eddcf3f89715875d6f3c60013af9a56a6754bd0ad5fdd379aed25f0423a7f6e6d9b93884bdbf1569f4fd33c9776d00f87bd236d0a7b43207a4cdb3a
```

In practice, we're going to want this non-hex, and in a file, so use `--raw`:

```
$ ./examples/centurytool.py --writer-secret=0101010101010101010101010101010101010101010101010101010101010101 --reader-secret=0202020202020202020202020202020202020202020202020202020202020202 --encode text 'text one' --encode text 'text two' --raw > /tmp/encfile
```

And here's how we'd do this in python:

```python
import centurymetadata

# Dummy secrets!
writer_secret=bytes((01,) * 32)
reader_secret=bytes((02,) * 32)

reader_pubkey = centurymetadata.compute_xonly_pubkey(reader_secret)

# Generation is 0, as this is our first data
enc = centurymetadata.encode(writer_secret, reader_pubkey, 0, [('text', 'text one'), ('text' 'text two')])
print(enc.hex())
```

## Uploading an Encoded Record

Now we have our reader (4d4b6cd1...) and writer (1b84c5...) keys, we
can authorize the server to accept updates.  The AUTHTOKEN for the
test server is 64 zeros, so we simply do:

```
$ curl -d '' http://testapi.centurymetadata.org/api/v0/authorize/4d4b6cd1361032ca9bd2aeb9d900aa4d45d9ead80ac9423374c451a7254d0766/1b84c5567b126440995d3ed5aaba0565d71e1834604819ff9c17f5e9d5dd078f/0000000000000000000000000000000000000000000000000000000000000000
Success
```

Now we can actually upload our record:

```
$ curl --data-binary @/tmp/encfile -H 'Content-Type: application/x-centurymetadata' http://testapi.centurymetadata.org/api/v0/update
Success
```

## Updating an Encoded Record

If we try to re-upload it, we get an error that it already exists:

```
$ curl --data-binary @/tmp/encfile -H 'Content-Type: application/x-centurymetadata' http://testapi.centurymetadata.org/api/v0/update
Bad Request (Generation 0 already exists)
```

We need a version with a greater generation number, so let's generate it:

```
$ ./examples/centurytool.py --writer-secret=0101010101010101010101010101010101010101010101010101010101010101 --reader-secret=0202020202020202020202020202020202020202020202020202020202020202 --encode text 'text one' --encode text 'text two' --generation 2 --raw > /tmp/encfile1
$ curl --data-binary @/tmp/encfile1 -H 'Content-Type: application/x-centurymetadata' http://testapi.centurymetadata.org/api/v0/update
Success
```

## Retreiving a Record

To improve privacy, you can only fetch bundles of records: you just need to figure out which bundle you want.

```
$ curl http://testapi.centurymetadata.org/api/v0/index
{"bundles": [{"first_reader":4d4b6cd1361032ca9bd2aeb9d900aa4d45d9ead80ac9423374c451a7254d0766,"first_writer":1b84c5567b126440995d3ed5aaba0565d71e1834604819ff9c17f5e9d5dd078f,"last_reader":4d4b6cd1361032ca9bd2aeb9d900aa4d45d9ead80ac9423374c451a7254d0766,"last_writer":1b84c5567b126440995d3ed5aaba0565d71e1834604819ff9c17f5e9d5dd078f}]}
```

We then use the appropriate `first_reader` and `first_writer` of the bundle to do the request:

```
curl http://testapi.centurymetadata.org/api/v0/fetchbundle/4d4b6cd1361032ca9bd2aeb9d900aa4d45d9ead80ac9423374c451a7254d0766/1b84c5567b126440995d3ed5aaba0565d71e1834604819ff9c17f5e9d5dd078f > /tmp/encdatas
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  8558    0  8558    0     0  18483      0 --:--:-- --:--:-- --:--:-- 18443
```

We always get given the highest generation available of each record.

There's a shortcut for getting a single entry, using centurytool:

```
./examples/centurytool.py --writer-secret=0101010101010101010101010101010101010101010101010101010101010101 --reader-secret=0202020202020202020202020202020202020202020202020202020202020202 --fetch --raw > /tmp/encdata
```

## Decoding a Record

Even without the key, we can check the record:

```
$ ./examples/centurytool.py --raw --check @/tmp/encdata
writer: 1b84c5567b126440995d3ed5aaba0565d71e1834604819ff9c17f5e9d5dd078f
reader: 4d4b6cd1361032ca9bd2aeb9d900aa4d45d9ead80ac9423374c451a7254d0766
generation: 2
```

With the reader key, we can decrypt it:

```
./examples/centurytool.py --reader-secret=0202020202020202020202020202020202020202020202020202020202020202 --raw --decode @/tmp/encdata
text
text one

text
text two

```
