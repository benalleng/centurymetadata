# Examples of using Century Metadata

## Creating an Encoded Record

You need two keys: one for the reader, and one for the writer.  Let's
use all-1 bytes for the writer's secret, all-2 bytes for the reader
secret.

Let's encode two records, one titled `text`, contents `text one`, the
second also titled `text` and contents `text two`.

Here's how we'd do this with the example tool:

```
$ ./examples/centurytool.py --writer-secret=0101010101010101010101010101010101010101010101010101010101010101 --reader-secret=0202020202020202020202020202020202020202020202020202020202020202 --encode text 'text one' --encode text 'text two'
Converted reader secret to reader pubkey 024d4b6cd1361032ca9bd2aeb9d900aa4d45d9ead80ac9423374c451a7254d0766
Writer pubkey: 031b84c5567b126440995d3ed5aaba0565d71e1834604819ff9c17f5e9d5dd078f
63656e747572796d65746164617461207630005349475b36345d7c5752495445525b33335d7c5245414445525b33335d7c47454e5b385d7c4145535b383035345d0a0a5349473a204249502d33343020534841323536285441477c5441477c5752495445527c5245414445527c47454e7c414553290a5752495445522c205245414445523a20736563703235366b3120782d6f6e6c79206b6579730a5441473a20534841323536282263656e747572796d65746164617461207630225b31385d290a4145534b45593a20534841323536284543204469666669652d48656c6c6d616e206f66205752495445522c524541444552290a4145533a20435452206d6f646520287374617274696e6720302c206e6f6e6365203029207573696e67204145534b4559206f6620444154410a444154413a20677a6970285b5449544c455c30434f4e54454e54535c305d2b292c207061646465642077697468203020627974657320746f2038303534007196c3a8af065bb5b17cd278f4ba0cb4075dfd1bf07fe65cc5ef5987a6bd982f142c397c94d74c2cb4da364adf4634fe112edebb88bacd0b44f325fbea534a57031b84c5567b126440995d3ed5aaba0565d71e1834604819ff9c17f5e9d5dd078f024d4b6cd1361032ca9bd2aeb9d900aa4d45d9ead80ac9423374c451a7254d07660000000000000000b24e8c908944c5b64a8614a8e06675d593b85188aa54852937a60c6c0b469d06c54d7cd2134122ea2b5b1dfc1cbb4ce7de476e0d1cd35b2f3d3eb34f2194476ebb960f12cbe30d34e62c298b2ead92a5946e7eb40ceff132721f674b483335718b6a684dca572ff12f3ca90edcffeee182108393c581a2001c4a8e3d79a7dd25dd50fc76e1a3f525d63feb030f13aef1fc3992a2fb1a8a15c67dad16702762b3f61e850a5174178eb32a6d852844bd847856a5fffb1bc2782ace83cade6ee8c4eee3f7cc81175da22ce5400838789266b19fc3c4affb8e3254e1c8b6347a5fa194173d556c9f583c897365e917a0cca67a82e7f99285a9cbc81248be5ddea2680d5c4d9b92b73354a1a31b83acc5bed4ccf7aee31d69e197b339f6ba969c86d6420f923ed97c88c9b6ea412b60b0e2b071de921f2e3df1df99d074e7a5675648ad0374e288c1a2b03ec617cdcfad30cec2dc043a90955effc669163568ad11b3bc8c057c7e4e8acc2ae1f0162a4aa40160d8912f37ca06dfe102830fb04c0070cba556b27f7a2e729659240380fc2968ec518697e2029fe8a88e90406c48a7ce88a74bbe6cd599f446eb7bcfb4bb745b624295d9c07653696530dcc7f511ab50bce5d6907e2c83f88c92b37a0c0d5890feae016bef3f695697448a5df8e71eebee725d2efdd20a62f9a41738cb0270bc1c5d4e90694148bdaed44f675296967e9fe2dad35289189604fdea40c5f82a0f193a7543196eb3b71040597caa2c0bffd74681f98f885716eab5b02b98f280b8712e43b7526ee21c8bdc540984d1a7fd30458f2074c3cbfe4eeb0c2e8c8a50405d77b02a93d3f1585cd05a959bb94d2eeb5ac8440fd3c35904bc85221f38bee3141e689613f35ee6dbac34129abf38de10bdd2fbad3dd2997011a66f82bfbfd9cbb4c33df9e3541291f27d0249f6617b5dcb0fef33dc8a7fe6cb4912af05633c648c5861b69134389f81f56b010242512a2079aa9faac9a4797447ea7717d03e9a1ed639f4adadbdadd79d7fe6128983b96bf4e3f5a837b30809841ff1abb64a3dc8ae6f5f9c07e6084ce54d8ea09854ff58d92976b2d52c5674f3abfdaf502989a6b204127b8cb7fc06b554ce0074394683d5c18276bff1cca91225070835ef4d495ccf71faa52d19068fd2355886c1bdf8bb424504dc684d0287b9a56bb6b1bf0c0be1db1ce7c54668b96a3d48afac1b33879ea8772ee98c3a3bb95a4b2a392e6248d2e72a3b77e7e845f61ae450e3d660427b9b94bf1f130d73bd10c2eb65ffd12ed8a64639cc48f94ef9e76b52c564592a13aa580583dedb317a31df700b5d1ff5be798d5aed602ed7c1eb0947e7c17872a166a4d9989d2bd8fae5c73c4d39cb13c6a40a87869ca8bf92bf2d0cf61552ecfad245d8d3f6c1ada2e12444f41ef7ed29b841c1f4e80ec0ba6de42d02c3d280b6fea837f61b64e13ff9af8d189b25e6dd6d97bb64c42179b1b86971062b73c6cd4c45690ef833447c9ceb1ed8cd6039d63e11f695a228456455ef7a290ad1b6db4c1e757b896b36fbb3b7e9f0f3e38e60ff13111b6bd5e5d29cfcf116f5513bf7b436ca516b7d950687c66baf6b08d6cf19dcd7059d001e2c49c29f54b02d85d3346a6b78ca84f25df8ec8ba24bdddc13ed6e70930bfc8b1bd40280e380334027a63d57c02bf077e4738a0cab131f8ccfd9f2639852cf0ebddcfdfcd7a3db06d96cf258dd70a310a45d9547b4fe8b349bc571505a9884c12874ef950facf05ef1532c996549e23ad23ce784eba6863bf377381b3ca393308cb221023dceaff6c7e37aab3f08f5887acbbc388f89c9a7587f3144e33af24d7087eaa1340bb3bd81093c7035383715033c777fd01091209927f120d972308d71242ae75801eccc2b7c232734c2ab8eed4ec5f8e321451c9953d223e355b0981f0f99a5bdaafb20fe41d2f5c62ede29307974dbc202d4bb29d5f5edec43e2d7c9e87ffff2045ca3eb3468e02b1bcdded284fd673f93be3ae7704dbf6a6ee1057e3e506e5ed3a617e619a6b25d661dc8505247fed992ecd81e9298a7b178cc79b75d143364e0be9f53e35d7025242c37f10f01499219cd9f9a3d885bfbcb8ea83397b87c3fd768f039596435d90b70da2e0b9ae4247fd68c801a1803633b6bdf673338e520a6ff4ecc2edb112ea91e42fedfc1571cc7f27f8f64dcf0a6417bded983775ee303b6100756d653fa638e425e3da6f18b6c60d4e996600cffed6c037d1ca1a60a922b26d5e1c2663f5fa3faa17954eaf8b10ea0c02186445d968112706a33e4f00a720692d592df27b544651925e23fe2408d6ed77d808eeb8cea72fa577be3ae892f587eb918fd8c6d71ee404f508ce6db767224c36f13c6cdb923953319669438e68981264834d43903133f66d8ef0e67d0de47814330b270668e9876e8d61d8ef40a38ef568c9b002c1f171c339ded721b0beade5ba7575cb483bfc6dd039db18a5ba87f641509142e585615aea733375b1f6b4c53af32faa043e61a7d8b62024a56b76b98789968338d52529f768e62a0d58bdfaba4c8968ff1e27429d223bdb813c8cf77f9eb17ca437ee8b6638c50a9055223d7e46fd4b4ce0b4341f2d409b36ba9454b4ffe697b94b8604ef1e57198dd5289e96e5c308e14110a7a040b5aa7551448e928c9dc9fb05693267ef0653ecd90d69500589c599567c8e5c0eca94019af4e9729fdcffd4ab18f4ab5f0981db3aa88efd6d2f5a1aa7d7e5c8e81adedf867458ea2c3ec0521d9180643deabf5cdc82e90af8f91b7c3acc6fc825ce74d7b0b482b9a49c67cdf5e49816e6299c33cabfabf674d8529ccfd356d8e2c1b1c91d56e2398dfe14e2095111885225001e8d0e387e9ba33f724fff3c3d469ae251c408ebd52940392db35b2a8c8d7c6f885f8e0f7fcf9f1f7b32e9ba326f0598cfde4f2bf6ee35f337d3321fb4e7832fd1e8742873c7cd26cc615fb46fd5a62f59cd4e328afd25ad95fd4f481309d231bb45e97d1062d446724f15b858b754fd29ec0bbd0d3aec16daee949bf471ecec235fdb1e36916b9d5e49965c4e3d7b90b27cb3771ab3b0d617ba8afe228be368543974aa0e3cf0418e0c98e9689db12d002098b419b56d22348550eb6daddf035656c3c01d2a9e491a9c3b18f36bf1d3d16f5bc5801d49e3139c307e8238a0c38c622e157b5b550990e5981d2091b169d74bd97efd7135c8cf4fa4662fea27be10a6a0f46f24c511281da2f7c039ff5fba5c0cfcbf2a60d18ab4c01d1cfaad7464c42b310e70943b79a800b779a9b9dddeb00194add61b2ad24124714cc64b59ded71d44f7632625a26d7a6970332bbf489d72b9f985b64687140d8fd78364793562a5f3b11034519f22beb245397fca6c109b1292f89b231c5fec7ce420dcca85094e3c1d3eb5e989afb9a6ff39fed3e6179af86c0a394647d187210b76397798ad729cd5c199806cb2e65e7217c068a08f0f33a4cd183679b377489076a2ba720fc0c0b8ab80861774e9fb3f03d8c24d8e87947db9d64e5acd92b4d6eae02b1a7ab9db95d9a3e21408e4dda5649700287c0cb28be2425839f2a0b10fdd04bdd1ff6e6f7c8e409fdcaf9688c9a228db54bf23121d408037fff845f203f437d3c033a0ffbebc54a3f312b6419c7ac6e6f00dc0d4ddd6b780e5fb6917181f1ab85510ff8f93bc228ce470b160c86a93ca753ff733fc3eaab0fd03fbee166f0f3e556139ced87970ddb04924b2e8e5b9002da47a31e82468c3164b7ba917bd2f656829467b921710bdfeb14769545b8be94fd71b321be8198b6498b1b4a77dc2fc0a091a2ad7eacce12ee034c517ecf5ba2376320692df559b55d7113cc1d51966a7138e9beaa79ee84dee89d502f85efab4e6f8173f20b73e133bce1a2be456f8472e3fe7af428c569db69063f9963b43ba945de76ec9e8c15a1fb4c56aa076d7e6b2d721c771e14fca7a61e7b199bf56c6cc61c5823578c01248dd1b4a6a1124c1872ca86104456eae242e60fb96df34f8d79930179e9a166220c69943b94cd86e9af7272f0b06bd0921fc72ebbdc70813679deb1e6f9e2610584f72a93cd8780c1fd4b788691fad62732430a8875408a5e25dfc9f08aca7b70cf773fc8391fd0cced39da794b026a1e47e967f444492c087a97f7fa9e2b0bdb18dba1f48ee83efaef8f7380c54f9011d3915fedf729d8347d1015d1d2a9995038b129293e4a37787b52717bfaad1c9a44e709ea5a8aaf7f3bbba767e2548a6785c8fd50a0d7f0cc43041b6832c8c41abf3a6c64a2e2b125762cd38ff1db4bee01b5dee2012f75c29af7bb242e036b548e8ff83b0998d9c870d10618ce0a819346d03f1fda2dc50c71a732225b7b65d2c46acd48a8d97e69056b2160e8e120625dbabfc74e88c634639d938f6609c9000607807b86568ed0f73b9367422cd8b29169c679480074372efccad8728b2227bcbad386d46ea7c8237b2b4faab574bbe067a564baaf59a7c6d4ec550244c2bcca38999400abcb0a9e7dab27a3bb063175da732fa3ded65be116d7049cfdb0e0d71bc0a1151067bd4f7e7faa5ba8405ac5a6cc1bf9e9b8fdc7f03160082069537263b4579a11a278a6d9c5218b883b218569f9c0dd243ed1d0e11b20c6d45bf1a485ee679da9384cc1b606519dc2c4fd273997ade428c86f5c0554b2a8068f3c6b6a86e24be9af00e94c46afd6f4b64d951b55225dcace2c39befb6f549724eba8129db31e37ce8d1c86b288bdbc4f6044e5bceaff9d753f30b9bf2a27be690160720aacb9ce3b64ed641bab1d6bfd8b22152db2dc21553518efeb4e6e1eef7ac20bd63327f68c2d98d361dbc0698ca0ad8b6d3e8b400fa2ec02f1fc896979571d1b05babacdeb073a44d48ac9051916c205a579aed4130563e16537544310136423acf1db9cd867d9c3054b880822cb438c957f565e50f89116326945499cf1d6e8e3238f4ccf58001db48298973715b5eee7084f0bb4618c8f5ae09a122a2affb246eb402127ab85a563c8f2756d0de66c53d95ce33811f150d5ef4884aadab32bbd906c5aa44518b38344b58a61135867dc5e23d9dac5d63c6a360b5c874529f31875b6ea1a7e1de1dde663877917a89ab1ffbbb701b7ef8dcc7ce5252d4528c7003528c908194f00236fd403addd0a189f8e8d0590c3acc592c6bcfefa1e03f6ffb6e7cf2eed1ad242b9a51f7355668390467974de1228b26e8e0c4b5c34c63b70498b9d0b4d486c6457c8b2fab5bcad570eaaf5f6ada4d16df95175baac62d1f304e6d4a2dd56579c5031fa0a2a7c7a6de3993357e217aad7000374d8ba22d03c01edeae231286f3b6a9cc3e4e27c75b2b39d562e07896a289cfef619cd6c774e98f78c12eaa8f08bfa8da9a3bc7990aba0155130fe342163de1d2de1869c773fbaab61f487b92ceaef97cebbba13686d4eac2579258897b32036f7da706b2b022c63ad28f1342d7e63a37ad8c1975d2403e68f7ed352466644f27ce5ab732e61f365fc9565e99cb7c13cb04f0a5316a40b6a14fd1d7721369399e18cdf6e57e85d9c9d3313970b5fb8dfbc37aff589a15bfbdef48ceeb4e6ea79c28bdc8df53a165b54e577cd320c5bc95a339512356b3150c01804aa76f2e0ed5e171b15228b7fe713e587dd6a14c7b1d24ced875127ded8d10ab6a61334a7f27d5f1a293988e1f582526979f28e840e93c0a46e6f0948e668182275a3996ce2d66ee13d776e52ae0bd1394b87bbe33d694d60542f2c38ce4d963c0f6f7f2c398a036af52d8e1a4b004280c57d20c23ea5acd875257756f87632197d8f75e431def9bbe5b43d4ef4e37a9f45b02e75bd0481ed92ee6ad1a642514a2f2116cdfb459bff1c7ae774e852d1ec1ba13b8e229594de534309a787be868c0c5aeaf42cffb4dfb19c0d244337da0124512f65702479b42d312e4aa92f00286eee42306e00926f881f8705733278e413a2d188b1e72d77269e07b338ca608fd2a06ea3d4ed1237c3a2c543e0c5950148b722154a23e79fe8bf8314cb8bafbea9f5275f97ba254c17b82cb4c1017afad54b91b39aaade2d095c13afd55362901304604642489b1aee58aa414a39702bf78214057f60e467c190d951364f1cab440376177f504244f55cf491a08f38cf7e3dede755a411fa7635f283af19c52a368836563352c1cb58c2701105dee6c9060c0e56408a47a353280fd1d1aa1737f79f8c3e0a97f6f56ee5cf88ac95b6b75057584553cbf6531fa92c692bbbe97cc6d1d8a34a865b6e11c4b283e31f412e0040733dadae2c44740ef7348d767280fb1d124dfa5cd5390ec624c918bf855fcbf58c385e79a2e9d72f2bb0e41fb0fcf618ee1c307151f9d494c844898a8d11023d0784cc45c2a2b837b4fce873c9ab3c343e338378ffe8328f1d30e49b897df5a3117e2f3b9558c6617a29e2a59da588716cebaeae0e799945c1ad60cf0156fe6e5ab547a907d82391da39fa65e1c998b48eb9d312c41e86d1e7d4657a40d81e3b72f2cf8a028d5776fa71a3a33e315043fc8f83b9c4d3363228a5bbed4a7ee766a7d080281828a85d07e309970e3207afd20879f4068c013a1cb35d3f248d3c1fc2892f16b3f24cc299c794b0e1f1ddb0a56d7440059aef848d157fba018da445dee8ecd93feee695c7ace0eb76064485499e8c38e4e584c7e0f343be250bbd9c013090b3e5e8f23b614b9b3d012a8b63434b826f01860beb06b25437a6173108b0a07f3c56f02a9fb9b9c6c0e85a69e9657ba7b67aaf95f99a17a15b339dd2baab6f5f1ae3dc0d6c2b6fd9eb389b52a6c378b92aea529624a796b834e3d8f9d39965f0966cd77c80fccca0151ffb2fdeb590758125542f55c2651f5a211384be3488d65dcea67f11420fc6a7f4046e3ab10bd298a01ea1c503f2b600cf105d7fb035056f847cd07ec5cf82958d12a9e835bf0acd97fffa30b201620d209408d5449e8c70fc7962b1dc857e720ca2bb0c4a6ba85b3973d0eff93122435134b9640da78e1725503b9b7a7b075c00ba561cd380530e60a428b3ab98038688db299d56a0546411e8c4973d1c0e5240408db0549bbe14edea2c8f7933f7fa72d2628ef011b7503e1a1e41439795e652ee8a142fc64582b519a65d4bc6c53fe037c577f78bdc12ce959fde1401fe5651945372c2f5f50a082878fbec2fd0af45bec3fab1e7f2e9ce324e7664e94b13c2e886ceb39eb9bb5fa649d2ce151fb7ae4e76e151fe9267450938536df6d7cf1a92b32a4f14640309a1fb05f6a277367cd6f55846409a94fe8cd6792b7cc3e034027824b7e670cdb005b58b100691d6e91e68e2d0d43d130cf4720b6d7924c20dfe3f94107177797a561500a80e95c246ba4f7e0d419221e141249b4c5d7bfe61d2916f9228814b920ce463b05c93c3156e41e24f644f7dda7a45acd5816d0373b433e65817b656c5de3b66fb873d193b9d3ca11ff97bcb64b5c652c9e234ba61a046e53a58c25608a1e785250c467267c150624a5e9fb495df83e3005db4cef061f4a9ee0975747bb26337827391269aafa6a44cef63db4e2886206fe94b7825af1210eca3c0a47a8751b3cbc2de5b16c3bbbaf39f90097ef7753fc7eaaff8b5cbf31a8b815e3a743ace94832de601cebd2246d259d954ffd4a9660a406a56cf60190570bdab9803b4c622bad3b9ebc50b9c1ce43e124ad7cf1cf398f15c6cfd5a3336c20db75035621553500083f4c038dfabec2a0979bddcca8d9716e1d4c6cfe72cd6b99324a8b3ca13809fa96f73d956812f0d28541806f28d6a3d0ffa0ab474b30a427c2c2d1df58f41e54a554b2c4a4685479443ba44633935fcd9820ac62a5b73784a2cebe2ea9520c8c66df611b213c9557bcf6f7fdec10a358674fe1db24de2eb23415f89fa3972b74151b9d1b97216d7f03ed1715d8c261e586509d9f4f023c1ab93a3ad3ef857f496017a33e2eaa77ad241d4e6aa0d4a97ff083067e4ddd0f62c2707049c1522905dfda6e7b8d55fe5ac96c4dfb4c439f67375f1a302a6870ac5544cb8b5641dbda8f0bc06e547cde7a71583dea16ef3b02bec650c006fcc19883c9947a48b1a8a187cbc2d6cce4bfe58f401b68e4b1c36fe035e21b6aca49b4c16309025c5ce23dc2b88350e95c9b52d9d9a3f31afcb62446e7a05b4ac9809887b0c9d7c183aa43f40014c56fe1516a9ea0f4b4f7a8ea6e9d3dc752378d435b3f78ccba9693b0b9fa5c9cae11c844a69ea7ba4f171356a2e83f4bc54c9805bf80b05970216c92d77c4fe75d0374ccc811b5309caf4a82d4a4a28ae5958eb7b35066577af015db7e7cbec10ebe9d7e1a9284b457a6fd4691d47eacd525709de1126615a733e1d2117e48610f7e841852b05af753dffed881e8958f91828977dd0e3816adfe0e10e4093ff27bbff2927c4a7368dd498846f3ab0ebb990ebedbd85f79ed97d4e81f86889743b176f09be7e2c7407c2286ef12e4c2fe1173f6089e71b22dfedb84712f71b4fd0b868180534a717184111524c4250c65d15e0eb7cfe0e8a9b03eefad71d76b5e332d4045983afefeed383cb53671c16ce940493b4525522bb0980e7778a9dafcf3652260dc6c5b00447c08afb0427e24388d0f108c069fbb05e5afc37eacc1f37c3f0e6f0a285503a5690c436a4a96b71101cde2fef37e4fdbb7843dc2ac9494ad43457494bf82a4f4ef1b8e7bc7271b99cedc0aed9496c3390e9b4c3c57866a01aeeace6c0a56edcb4a99beab9e4d02ef9ca318fb6fd128d48be69942f527275e058d723cde26c971be0347f8551a63238cd04d427ebf266237359079040da0445e2b9ff1c9f9827132a58414cb3d126c6c40eab9caa669785ed4620c00a791891fa00ac0b71005069929d31d2ad3f927d6d9be2b8297489eb87c74a8dc5f77db424838d9d72769dc46889489a429776d6a138a539d4dcddddfcc09b7f08594a9cc8f9ef06010c92dd07f439e682ab996b5691b022db2659f96c7ab6f4187dd401bd191035165bf54cddc7e68dd975c5f5d83639344e34fc6c5dc57d6095f133d81c14174110c28fdd45ea5c1476f7ab4d0f7f8119492f17731d351f9313b99dd0cde94b72ec28741411aac401b0c0df8cde7449d2e8336d968db31b12146ded84b4569a76263adb3588ed5254af5e2007389fa96ba5f191f488f0e9be280a24eaf23707b775ceebf5adb5010119fc9c393a66356069f8b499429368b4aadc92e2b13d12ae6bea484fae0d6bdfea845e2b0b387e41c3570f6b640b95a10ac5024b0c6200717d683026be93d18038fa2a250aa505d76d46e739a63f4fce3d74c7021160638a52e7bc87ea71578879b84d1350cdd0604af46b2c655f7aca6a5c78ea2870cb2662f0abc53a9a1ce92b0e1f0a39b935843f362355f924cbd1831498f2a169f87377f8ea6cbe50704263960d2898e6609ca9310a23dc5a5a3b3bd8b122c4011ba778285b5cd42d483d2a27523a3013b4f24f694b254dacd00c139e526f79672c22fe570fb4fad9563aaf638e40f3ef481aafb0ce61eedb0bf26d985db62f49160cdf78a6565766c5963555ef6cb2de45a5d2aaccbff09a474b48adc71632260aabd706324f76483d0b8451f33b308d0aa720f19070aa9b1451e12feb11d416d7a3f884fb64fc70552ea4985e9ce6124e1170968bf3306f5820ea82ae0ae046f458f3a9cd2c7450522122173a6296556b6261d3b519e199111653e40d1324cc591eaee815c4633509a0e635248d206e60b3e002849e965460754d9a0954c884523b0d41805b02ed6fc743dc603ec34b672b7739d4544e9e8a8b38326daec8dc4abe024f24f49c890920149142cbd31f3f54c5bb24787e88a28cb7ba40bac002cece03187054276231d9fea6c6b5106557c7dcccd218926b1cfbb7c4bc9f0b7fffc5115f0ed025c2ed28bec79bedc1141ff1ad6c129fea32877547ba7277d21eea52d7ea3293cefdee070172f291f4f0cd391dc80da0cff08dfb6ab9dfd9edaa5d080a06898a1c99d25b57d87880c9008fd5b64846655a0b8c6bd04f56cc4ff79a31e38d52c63ae90c8a39fd24989b30ce708a51a3bba66c3932055f002cf801abd2e703d6df51776c157682f787f63b0d91931d702433bd051999052dcbce0615595c21d6c8bd5a499e6e8f4f1509f38761ef6538530a85b2ca37ccb5548b8b2c487cf9b036a9da81f3d98fd06b3bb27efd8b50a5005daa043417e6ecde7de92d06c86aa31597687a883c293a9891376e2289a2b1fafbf294bd271f2de32cadcf015928101691b67ab36ec11d74005bddc0f78048e5484cc30c3e4698a05bb22eaed6fd05819d3b20c0c03e35d8f5dd79a24be4659c41318917965bd32b02ebe79e54f9896a37c019fc833260a163641920ec963074c25feaf5870dc39bb8850953eb78006680968d3c8c8ea2cc153391aeaefe08e31573a43730785761d38735ff7047782bc6dcfb588f45e09b6f03b38326deb5ceba57d8e23e248b7386f5880263f91eec3340d02d4449f347a6ad9d02f6c8461d9ae4d757e7901e95c38f87b2ea165d2ca7870ab76834e7a89ac9634eed39a6dcc63991a3a9237784ac13902a3bb043cdfc74cf9a2e5b3ea4c464e72128691b168621af75a2b4545b132178394df21e97b5d2c43bc573072b0b2fd6adb3bcd7faf2d032d6e755aa7afb445e1621362b492fc834b7354851ea6bbd92d9c249d2b40e2bd234cc61dabed3c422780c59c90f6a112881482ea9c35cea34675b56e9d0eaedb799f27103ee7b5f209b479bf1bd7a7b3777580b6d102dedc9ce984c9b24ff63365b1935f41c0e96edfd6f2a132868f63e727f39a868622953cc0b8ec7afbaf4d9ff3c89617fe8080a49c7d2d4ff2587957c292b9e221c2283da74798ea427e28eff2f62e6f90820a059e3e5821bb846083279afc2c8d48eb431f5a7508eb6bfac6bf0791d2bba60bcbee3870896c1fd966255662c8670558066929a1203aca7af251f5bdce942511af0a0a544986d2d96fb600b4ec71456667198719bd3a778fd8c16eb32bc53b36f22caf6ac8db21096d8c5fc68420e2a7cdb3a12a871d29e98fe0a83f7033f625dd61a80424592daf1e6dc1c3c23cdd5785b3c69072831a4d66d9d8129f3421573dc5eff6c0d5adeabec3cc7d2487c7e70f6d46758f9022aff9e9c3756dd5029a355a809b18ee6f9a47ae9feca342497d0b41bbd55e759364c3aee37b95fd567c40cb830935a0fee1821826b0e0e6690042dff3c24c4577616bac85530528f0371b5d89db3149ad725a01040976ce1f6b9dba3390e7cf4bea2024343fc516bc9b06762786732783fd777b1b6c082456ffd5b07f25e5e15312ebdc09b21b67b892dc68013b865e29e4c47344568e2abc8
```

In practice, we're going to want this non-hex, and in a file, so use `--raw`:

```
$ ./examples/centurytool.py --writer-secret=0101010101010101010101010101010101010101010101010101010101010101 --reader-secret=0202020202020202020202020202020202020202020202020202020202020202 --encode text 'text one' --encode text 'text two' --raw > /tmp/encfile
```

And here's how we'd do this in python:

```python
import centurymetadata
import secp256k1

# Dummy secrets!
writer_privkey=secp256k1.PrivateKey(bytes((1,) * 32))
reader_privkey=secp256k1.PrivateKey(bytes((2,) * 32))

reader_pubkey = reader_privkey.pubkey

# Generation is 0, as this is our first data
enc = centurymetadata.encode(writer_privkey, reader_pubkey, 0, ('text', 'text one'), ('text', 'text two'))
print(enc.hex())
```

## Uploading an Encoded Record

Now we have our reader (4d4b6cd1...) and writer (1b84c5...) keys, we
can authorize the server to accept updates.  The AUTHTOKEN for the
test server is 64 zeros, so we simply do:

```
$ curl -d '' http://testapi.centurymetadata.org/api/v0/authorize/4d4b6cd1361032ca9bd2aeb9d900aa4d45d9ead80ac9423374c451a7254d0766/1b84c5567b126440995d3ed5aaba0565d71e1834604819ff9c17f5e9d5dd078f/0000000000000000000000000000000000000000000000000000000000000000
Success
```

Now we can actually upload our record:

```
$ curl --data-binary @/tmp/encfile -H 'Content-Type: application/x-centurymetadata' http://testapi.centurymetadata.org/api/v0/update
Success
```

## Updating an Encoded Record

If we try to re-upload it, we get an error that it already exists:

```
$ curl --data-binary @/tmp/encfile -H 'Content-Type: application/x-centurymetadata' http://testapi.centurymetadata.org/api/v0/update
Bad Request (Generation 0 already exists)
```

We need a version with a greater generation number, so let's generate it:

```
$ ./examples/centurytool.py --writer-secret=0101010101010101010101010101010101010101010101010101010101010101 --reader-secret=0202020202020202020202020202020202020202020202020202020202020202 --encode text 'text one' --encode text 'text two' --generation 2 --raw > /tmp/encfile1
$ curl --data-binary @/tmp/encfile1 -H 'Content-Type: application/x-centurymetadata' http://testapi.centurymetadata.org/api/v0/update
Success
```

## Retreiving a Record

To improve privacy, you can only fetch bundles of records: you just need to figure out which bundle you want.

```
$ curl http://testapi.centurymetadata.org/api/v0/index
{"bundles": [{"first_reader":4d4b6cd1361032ca9bd2aeb9d900aa4d45d9ead80ac9423374c451a7254d0766,"first_writer":1b84c5567b126440995d3ed5aaba0565d71e1834604819ff9c17f5e9d5dd078f,"last_reader":4d4b6cd1361032ca9bd2aeb9d900aa4d45d9ead80ac9423374c451a7254d0766,"last_writer":1b84c5567b126440995d3ed5aaba0565d71e1834604819ff9c17f5e9d5dd078f}]}
```

We then use the appropriate `first_reader` and `first_writer` of the bundle to do the request:

```
curl http://testapi.centurymetadata.org/api/v0/fetchbundle/4d4b6cd1361032ca9bd2aeb9d900aa4d45d9ead80ac9423374c451a7254d0766/1b84c5567b126440995d3ed5aaba0565d71e1834604819ff9c17f5e9d5dd078f > /tmp/encdatas
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  8558    0  8558    0     0  18483      0 --:--:-- --:--:-- --:--:-- 18443
```

We always get given the highest generation available of each record.

There's a shortcut for getting a single entry, using centurytool:

```
./examples/centurytool.py --writer-secret=0101010101010101010101010101010101010101010101010101010101010101 --reader-secret=0202020202020202020202020202020202020202020202020202020202020202 --fetch --raw > /tmp/encdata
```

## Decoding a Record

Even without the key, we can check the record:

```
$ ./examples/centurytool.py --raw --check @/tmp/encdata
writer: 1b84c5567b126440995d3ed5aaba0565d71e1834604819ff9c17f5e9d5dd078f
reader: 4d4b6cd1361032ca9bd2aeb9d900aa4d45d9ead80ac9423374c451a7254d0766
generation: 2
```

With the reader key, we can decrypt it:

```
./examples/centurytool.py --reader-secret=0202020202020202020202020202020202020202020202020202020202020202 --raw --decode @/tmp/encdata
text
text one

text
text two

```
